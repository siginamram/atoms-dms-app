<div class="progress-container" *ngIf="progressForm" [formGroup]="progressForm">
  <mat-toolbar color="primary" style="border-radius: 10px;">
    <span>Sales Converted</span>
  </mat-toolbar>

  <!-- Progress Section -->
  <div class="section">
    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Client Category</mat-label>
        <mat-select formControlName="clientCategory">
          <mat-option [value]="1">A</mat-option>
          <mat-option [value]="2">B</mat-option>
          <mat-option [value]="3">C</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <h2>Operations Team Allocation(DMS)</h2>
    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Operations Manager</mat-label>
        <mat-select formControlName="operationsManager">
          <mat-option *ngFor="let manager of operationsManagers" [value]="manager.userId">
            {{ manager.empName }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      
      <mat-form-field appearance="outline">
        <mat-label>Operations Team Lead</mat-label>
        <mat-select formControlName="operationsLead">
          <mat-option *ngFor="let lead of operationsLeads" [value]="lead.userId">
            {{ lead.empName }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Contact Number (Manager)</mat-label>
        <input matInput formControlName="contactNumberManager" type="text" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Contact Number (Lead)</mat-label>
        <input matInput formControlName="contactNumberLead" type="text" />
      </mat-form-field>
    </div>
  </div>
  <!-- Knowledge Transfer Meet -->
  <div class="section">
    <h2>Knowledge Transfer Meet</h2>
    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>K.T Status</mat-label>
        <mat-select formControlName="ktStatus">
          <mat-option [value]="1">Completed</mat-option>
          <mat-option [value]="0">Pending</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Date of K.T</mat-label>
        <input matInput [matDatepicker]="picker1" formControlName="ktDate" />
        <mat-datepicker-toggle matSuffix [for]="picker1" ></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
      </mat-form-field>
    </div>
  </div>

  <!-- Payment Status -->
  <div class="section">
    <h2>Payment Status</h2>
    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Payment Status</mat-label>
        <mat-select formControlName="isAdvReceived">
          <mat-option [value]="1">Paid</mat-option>
          <mat-option [value]="0">Pending</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Advance Amount</mat-label>
        <input matInput type="number" formControlName="advAmount" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Date for Advance</mat-label>
        <input
          matInput
          [matDatepicker]="picker2"
          [max]="maxDate" 
          formControlName="advanceDate"
        />
        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
        <mat-datepicker #picker2></mat-datepicker>
      </mat-form-field>
      
    </div>
  </div>

  <!-- Document Section -->
  <div class="form-row">
    <div>
      <label for="slaUpload">Upload SLA Document</label>
      <input id="slaUpload" type="file" (change)="onFileChange($event)" />
    </div>
  </div>

  <div class="submit-section">
    <button mat-raised-button color="primary" type="submit" (click)="onSubmit()">Submit</button>
  </div>
</div>
