<div class="dashboard-container">
  <h2>Content Writer Dashboard</h2>
<!-- Date Filters -->
<div class="filters-container">
  <mat-form-field appearance="outline">
    <mat-label>From Date</mat-label>
    <input matInput [matDatepicker]="fromDatePicker" [formControl]="fromDate" placeholder="YYYY-MM-DD" readonly />
    <mat-datepicker-toggle matSuffix [for]="fromDatePicker"></mat-datepicker-toggle>
    <mat-datepicker #fromDatePicker></mat-datepicker>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>To Date</mat-label>
    <input matInput [matDatepicker]="toDatePicker" [formControl]="toDate" placeholder="YYYY-MM-DD" readonly />
    <mat-datepicker-toggle matSuffix [for]="toDatePicker"></mat-datepicker-toggle>
    <mat-datepicker #toDatePicker></mat-datepicker>
  </mat-form-field>
</div>

    
    <div  class="spinner" *ngIf="showSpinner">
      <mat-spinner></mat-spinner>
    </div>
  <!-- KPI Section -->
  <div class="kpi-section">
    <div
      class="kpi-card"
      *ngFor="let kpi of kpis"
      [ngStyle]="{ 'background-color': kpi.color }"
    >
      <div class="kpi-icon">
        <mat-icon>{{ kpi.icon }}</mat-icon>
      </div>
      <h3>{{ kpi.title }}</h3>
      <h2>{{ kpi.value }}</h2>
    </div>
  </div>



  <!-- Chart Section -->
  <div class="charts-section" style="padding-top: 20px;">
    <div class="chart-card" *ngFor="let graph of graphs">
      <h4>{{ graph.title }}</h4>
      <div class="chart-wrapper">
        <canvas
          baseChart
          [data]="graph.data"
          [labels]="graph.labels"
          [options]="chartOptions"
          [type]="'line'"
        ></canvas>
      </div>
    </div>
  </div>

  <!-- Table Section -->
  <div class="table-section" style="padding-top: 20px;">
    <table>
      <thead>
        <tr>
          <th>
            S.NO
          </th>
          <th>
            <mat-icon class="header-icon">business</mat-icon> Name of the Client
          </th>
          <th>
            <mat-icon class="header-icon">description</mat-icon> Actual Content
          </th>
          <th>
            <mat-icon class="header-icon">edit_note</mat-icon> Content Written
          </th>
          <th>
            <mat-icon class="header-icon">check_circle</mat-icon> Content Approved
          </th>
          <th>
            <mat-icon class="header-icon">hourglass_empty</mat-icon> Pending Approvals
          </th>
          <th>
            <mat-icon class="header-icon">edit</mat-icon> Changes Recommended
          </th>
          <th>
            <mat-icon class="header-icon">pending</mat-icon> Pending Contents
          </th>
        </tr>
        
      </thead>
      <tbody>
        <tr *ngFor="let row of clientWiseData; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ row.organizationName }}</td>
          <td>{{ row.noOfRequiredContent }}</td>
          <td>{{ row.totalContentWritten }}</td>
          <td>{{ row.totalContentApproved }}</td>
          <td>{{ row.totalPendingApprovals }}</td>
          <td>{{ row.totalChangesRecommended }}</td>
          <td>{{ row.totalPendingContent }}</td>
        </tr>
        <!-- Totals Row -->
        <tr>
          <td colspan="2"><strong>Totals</strong></td>
          <td><strong>{{ totals.noOfRequiredContent }}</strong></td>
          <td><strong>{{ totals.totalContentWritten }}</strong></td>
          <td><strong>{{ totals.totalContentApproved }}</strong></td>
          <td><strong>{{ totals.totalPendingApprovals }}</strong></td>
          <td><strong>{{ totals.totalChangesRecommended }}</strong></td>
          <td><strong>{{ totals.totalPendingContent }}</strong></td>
        </tr>
      </tbody>
    </table>
  </div>
  
</div>
